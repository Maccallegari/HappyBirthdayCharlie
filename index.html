<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Happy 30th, Charlie! üê∂üíõ</title>
<meta name="description" content="A sweet, interactive collage for Charlie's 30th birthday!" />
<style>
  :root {
    --bg: #0b0b10;
    --panel: #11131a;
    --ink: #f7f8fb;
    --ink-dim: #b9c0d9;
    --brand: #ff7bb0;
    --brand-2: #ffd36e;
    --accent: #7bdff6;
    --shadow: 0 10px 30px rgba(0,0,0,.35);
    --radius: 18px;
  }
  html, body { height:100%; margin:0; font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial; 
    background: radial-gradient(1200px 800px at 80% -10%, rgba(255,123,176,.08), transparent 60%),
                radial-gradient(800px 600px at 0% 100%, rgba(123,223,246,.07), transparent 60%),
                var(--bg);
    color: var(--ink);
  }
  header.hero { padding: 48px 20px 16px; text-align:center; }
  .headline { font-size: clamp(28px,5vw,48px); margin:0 0 10px; }
  .subhead { font-size: clamp(14px,2.4vw,18px); margin:0; color:var(--ink-dim); }
  .controls {
    position: sticky; top:0; z-index:5;
    background: rgba(11,11,16,.85); backdrop-filter: blur(8px);
    border-bottom: 1px solid rgba(255,255,255,.06);
    padding:12px 10px; display:flex; flex-wrap:wrap; gap:8px; justify-content:center;
  }
  .btn {
    border:0; border-radius:999px; padding:10px 14px; cursor:pointer;
    background: linear-gradient(180deg,#1b1f2a,#12151d);
    color:var(--ink); box-shadow: var(--shadow);
    display:inline-flex; align-items:center; gap:8px;
  }
  .slider { accent-color: var(--brand); }
  .gallery-wrap { max-width:1400px; margin:20px auto; padding:0 14px 60px; }
  .masonry { column-gap:14px; }
  .masonry[data-cols="2"]{ column-count:2; }
  .masonry[data-cols="3"]{ column-count:3; }
  .masonry[data-cols="4"]{ column-count:4; }
  .masonry[data-cols="5"]{ column-count:5; }
  @media(max-width:800px){ .masonry{ column-count:2 !important; } }
  @media(max-width:520px){ .masonry{ column-count:1 !important; } }
  .card { break-inside: avoid; margin:0 0 14px; border-radius: var(--radius); overflow:hidden; background:var(--panel); box-shadow:var(--shadow); position:relative; }
  .card img { width:100%; display:block; height:auto; transition: transform .35s ease; }
  .card:hover img { transform: scale(1.02); }
  .cap { position:absolute; left:10px; bottom:10px; right:10px; background: linear-gradient(180deg, transparent, rgba(0,0,0,.55)); color:#fff; border-radius:12px; padding:32px 10px 10px; font-size:13px; }
  .lightbox { position:fixed; inset:0; background: rgba(0,0,0,.9); display:none; align-items:center; justify-content:center; z-index:50; }
  .lightbox.open { display:flex; }
  .lightbox-inner { position:relative; width:min(92vw,1200px); height:min(86vh,900px); display:grid; place-items:center; }
  .lb-img { max-width:100%; max-height:100%; border-radius:12px; box-shadow:var(--shadow); }
  .lb-cap { position:absolute; left:0; right:0; bottom:-2px; padding:14px 16px; color:#fff; font-size:14px; text-align:center; background: linear-gradient(180deg, transparent, rgba(0,0,0,.6)); }
  .lb-prev, .lb-next { position:absolute; top:50%; transform:translateY(-50%); background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.12); font-size:18px; padding:12px 14px; border-radius:12px; cursor:pointer; }
  .lb-prev { left:16px; } .lb-next { right:16px; }
  .hearts { pointer-events:none; position:fixed; inset:0; overflow:hidden; z-index:40; }
  .heart { position:absolute; width:16px; height:16px; transform:rotate(45deg); animation: floatUp 4.5s ease-in forwards; opacity:.9; }
  .heart:before, .heart:after { content:""; position:absolute; width:16px; height:16px; background:inherit; border-radius:50%; }
  .heart:before { left:-8px; } .heart:after { top:-8px; }
  @keyframes floatUp {
    0% { transform: translateY(20px) scale(.8) rotate(45deg); opacity:0; }
    15% { opacity:1; }
    100% { transform: translateY(-120vh) scale(1.2) rotate(45deg); opacity:0; }
  }
  footer { text-align:center; color:var(--ink-dim); padding:24px 12px 64px; }
</style>
</head>
<body>
<header class="hero">
  <h1 class="headline">Happy 30th, <span id="gf-name">Charlie</span>! üéâüê∂</h1>
  <p class="subhead">A little wall of our favourite moments. Click any photo to open it, use ‚óÄ ‚ñ∂ to navigate, and enjoy the hearts! üíñ</p>
</header>

<div class="controls">
  <button id="playBtn" class="btn">‚ñ∂ Play Slideshow</button>
  <button id="shuffleBtn" class="btn">üîÄ Shuffle</button>
  <label class="btn">üß± Grid <input id="cols" class="slider" type="range" min="2" max="5" value="4"/></label>
  <label class="btn">‚úèÔ∏è Name <input id="nameInput" type="text" placeholder="Her name" style="background:transparent;border:0;outline:none;color:var(--ink);width:120px"/></label>
</div>

<main class="gallery-wrap">
  <div id="gallery" class="masonry" data-cols="4"></div>
</main>

<div id="lightbox" class="lightbox">
  <div class="lightbox-inner">
    <img id="lbImg" class="lb-img" alt=""/>
    <div id="lbCap" class="lb-cap"></div>
    <button id="lbPrev" class="lb-prev">‚óÄ</button>
    <button id="lbNext" class=
